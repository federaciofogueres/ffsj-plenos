import { HttpClientModule } from '@angular/common/http';
import { Component, EventEmitter, Input, Output } from '@angular/core';
import { FormControl, ReactiveFormsModule } from '@angular/forms';
import * as i0 from "@angular/core";
import * as i1 from "./services/auth.service";
import * as i2 from "@angular/forms";
export class FfsjLoginComponent {
    constructor(authService) {
        this.authService = authService;
        this.title = 'Iniciar Sesión';
        this.subtitle = 'Acceso a administración';
        this.logStatus = new EventEmitter();
        this.username = new FormControl('');
        this.password = new FormControl('');
        this.loading = false;
    }
    // ngOnInit() {
    //   if (this.authService.isLoggedIn()) {
    //     this.route.navigateByUrl('home');
    //   }
    // }
    async login() {
        console.log('Doing Login -> ', this.username.value, this.password.value);
        this.loading = true;
        if (this.username.valid && this.password.valid) {
            this.authService.login(this.username.value, this.password.value)
                .then((res) => {
                this.loading = false;
                console.log(res);
                console.log('Login success');
                this.logStatus.emit(true);
            })
                .catch(() => {
                this.loading = false;
                console.log('Login failed');
                this.logStatus.emit(false);
            });
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.11", ngImport: i0, type: FfsjLoginComponent, deps: [{ token: i1.AuthService }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.11", type: FfsjLoginComponent, isStandalone: true, selector: "lib-ffsj-login", inputs: { title: "title", subtitle: "subtitle" }, outputs: { logStatus: "logStatus" }, ngImport: i0, template: "<div>\r\n    <div class=\"container mt-4 login-container\">\r\n    \r\n        <div class=\"row banner\">\r\n        <h1>\r\n            <img src=\"https://intranet.hogueras.es/wp-content/uploads/2016/12/logofede.png\" class=\"img-fluid\" alt=\"\">\r\n            <span style=\"color: #dd5a43 !important\">{{title}}</span>\r\n        </h1>\r\n        <h4 style=\"color: #478fca !important; text-align: center;\">\u00A9 Federaci\u00F3 de Les Fogueres de Sant Joan</h4>\r\n        </div>\r\n    \r\n        <div class=\"row\">\r\n        <h4 class=\"titulo-consultas\" style=\"color: #478fca !important;\">\r\n            {{subtitle}}\r\n        </h4>\r\n        </div>\r\n        <div class=\"row my-3\">\r\n        <label for=\"username\">Usuario</label>\r\n        <input type=\"text\" id=\"username\" class=\"form-control\" [formControl]=\"username\" value=\"\">\r\n        </div>\r\n        <div class=\"row mb-3\">\r\n        <label for=\"username\">Contrase\u00F1a</label>\r\n        <input type=\"password\" id=\"password\" class=\"form-control\" [formControl]=\"password\" value=\"\">\r\n        </div>\r\n        <div class=\"row submit-button mt-2\">\r\n        <button (click)=\"login()\">Iniciar sesi\u00F3n</button>\r\n        </div>\r\n    \r\n    </div>\r\n</div>", styles: [".login-container{max-width:350px}.login-container .row.banner{text-align:center}.login-container .row.banner img{max-height:75px}.submit-button button{margin:auto;color:#fff;background-color:#0033a0;border:1px solid #0033A0;font-weight:700;padding:10px 20px;border-radius:25px;width:auto;max-width:80%}.row.banner{text-align:center}.row.banner img{max-height:75px}\n"], dependencies: [{ kind: "ngmodule", type: ReactiveFormsModule }, { kind: "directive", type: i2.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i2.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i2.FormControlDirective, selector: "[formControl]", inputs: ["formControl", "disabled", "ngModel"], outputs: ["ngModelChange"], exportAs: ["ngForm"] }, { kind: "ngmodule", type: HttpClientModule }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.11", ngImport: i0, type: FfsjLoginComponent, decorators: [{
            type: Component,
            args: [{ selector: 'lib-ffsj-login', standalone: true, imports: [
                        ReactiveFormsModule,
                        HttpClientModule
                    ], template: "<div>\r\n    <div class=\"container mt-4 login-container\">\r\n    \r\n        <div class=\"row banner\">\r\n        <h1>\r\n            <img src=\"https://intranet.hogueras.es/wp-content/uploads/2016/12/logofede.png\" class=\"img-fluid\" alt=\"\">\r\n            <span style=\"color: #dd5a43 !important\">{{title}}</span>\r\n        </h1>\r\n        <h4 style=\"color: #478fca !important; text-align: center;\">\u00A9 Federaci\u00F3 de Les Fogueres de Sant Joan</h4>\r\n        </div>\r\n    \r\n        <div class=\"row\">\r\n        <h4 class=\"titulo-consultas\" style=\"color: #478fca !important;\">\r\n            {{subtitle}}\r\n        </h4>\r\n        </div>\r\n        <div class=\"row my-3\">\r\n        <label for=\"username\">Usuario</label>\r\n        <input type=\"text\" id=\"username\" class=\"form-control\" [formControl]=\"username\" value=\"\">\r\n        </div>\r\n        <div class=\"row mb-3\">\r\n        <label for=\"username\">Contrase\u00F1a</label>\r\n        <input type=\"password\" id=\"password\" class=\"form-control\" [formControl]=\"password\" value=\"\">\r\n        </div>\r\n        <div class=\"row submit-button mt-2\">\r\n        <button (click)=\"login()\">Iniciar sesi\u00F3n</button>\r\n        </div>\r\n    \r\n    </div>\r\n</div>", styles: [".login-container{max-width:350px}.login-container .row.banner{text-align:center}.login-container .row.banner img{max-height:75px}.submit-button button{margin:auto;color:#fff;background-color:#0033a0;border:1px solid #0033A0;font-weight:700;padding:10px 20px;border-radius:25px;width:auto;max-width:80%}.row.banner{text-align:center}.row.banner img{max-height:75px}\n"] }]
        }], ctorParameters: () => [{ type: i1.AuthService }], propDecorators: { title: [{
                type: Input
            }], subtitle: [{
                type: Input
            }], logStatus: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmZzai1sb2dpbi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9mZnNqLXdlYi1jb21wb25lbnRzL3NyYy9saWIvZmZzai1sb2dpbi9mZnNqLWxvZ2luLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2Zmc2otd2ViLWNvbXBvbmVudHMvc3JjL2xpYi9mZnNqLWxvZ2luL2Zmc2otbG9naW4uY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDeEQsT0FBTyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN2RSxPQUFPLEVBQUUsV0FBVyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7Ozs7QUFhbEUsTUFBTSxPQUFPLGtCQUFrQjtJQVc3QixZQUNVLFdBQXdCO1FBQXhCLGdCQUFXLEdBQVgsV0FBVyxDQUFhO1FBVnpCLFVBQUssR0FBVyxnQkFBZ0IsQ0FBQztRQUNqQyxhQUFRLEdBQVcseUJBQXlCLENBQUM7UUFFNUMsY0FBUyxHQUEwQixJQUFJLFlBQVksRUFBVyxDQUFDO1FBRXpFLGFBQVEsR0FBRyxJQUFJLFdBQVcsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMvQixhQUFRLEdBQUcsSUFBSSxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDL0IsWUFBTyxHQUFZLEtBQUssQ0FBQztJQUt0QixDQUFDO0lBRUosZUFBZTtJQUNmLHlDQUF5QztJQUN6Qyx3Q0FBd0M7SUFDeEMsTUFBTTtJQUNOLElBQUk7SUFFSixLQUFLLENBQUMsS0FBSztRQUNULE9BQU8sQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUV6RSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUNwQixJQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDOUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFNLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFNLENBQUM7aUJBQy9ELElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO2dCQUNaLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO2dCQUNyQixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUVqQixPQUFPLENBQUMsR0FBRyxDQUFDLGVBQWUsQ0FBQyxDQUFDO2dCQUM3QixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM1QixDQUFDLENBQUM7aUJBQ0QsS0FBSyxDQUFDLEdBQUcsRUFBRTtnQkFDVixJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztnQkFDckIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQztnQkFDNUIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDN0IsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDO0lBQ0gsQ0FBQzsrR0F6Q1Usa0JBQWtCO21HQUFsQixrQkFBa0IsaUtDZi9CLCt2Q0E2Qk0sdWFEcEJGLG1CQUFtQix5a0JBQ25CLGdCQUFnQjs7NEZBS1Asa0JBQWtCO2tCQVY5QixTQUFTOytCQUNFLGdCQUFnQixjQUNkLElBQUksV0FDUDt3QkFDUCxtQkFBbUI7d0JBQ25CLGdCQUFnQjtxQkFDakI7Z0ZBTVEsS0FBSztzQkFBYixLQUFLO2dCQUNHLFFBQVE7c0JBQWhCLEtBQUs7Z0JBRUksU0FBUztzQkFBbEIsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBDbGllbnRNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XHJcbmltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEZvcm1Db250cm9sLCBSZWFjdGl2ZUZvcm1zTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5pbXBvcnQgeyBBdXRoU2VydmljZSB9IGZyb20gJy4vc2VydmljZXMvYXV0aC5zZXJ2aWNlJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnbGliLWZmc2otbG9naW4nLFxyXG4gIHN0YW5kYWxvbmU6IHRydWUsXHJcbiAgaW1wb3J0czogW1xyXG4gICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcclxuICAgIEh0dHBDbGllbnRNb2R1bGVcclxuICBdLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9mZnNqLWxvZ2luLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybDogJy4vZmZzai1sb2dpbi5jb21wb25lbnQuc2NzcydcclxufSlcclxuZXhwb3J0IGNsYXNzIEZmc2pMb2dpbkNvbXBvbmVudCB7XHJcblxyXG4gIEBJbnB1dCgpIHRpdGxlOiBzdHJpbmcgPSAnSW5pY2lhciBTZXNpw7NuJztcclxuICBASW5wdXQoKSBzdWJ0aXRsZTogc3RyaW5nID0gJ0FjY2VzbyBhIGFkbWluaXN0cmFjacOzbic7XHJcblxyXG4gIEBPdXRwdXQoKSBsb2dTdGF0dXM6IEV2ZW50RW1pdHRlcjxib29sZWFuPiA9IG5ldyBFdmVudEVtaXR0ZXI8Ym9vbGVhbj4oKTtcclxuXHJcbiAgdXNlcm5hbWUgPSBuZXcgRm9ybUNvbnRyb2woJycpO1xyXG4gIHBhc3N3b3JkID0gbmV3IEZvcm1Db250cm9sKCcnKTtcclxuICBsb2FkaW5nOiBib29sZWFuID0gZmFsc2U7XHJcbiAgXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIGF1dGhTZXJ2aWNlOiBBdXRoU2VydmljZSxcclxuICAvLyAgIHByaXZhdGUgYWxlcnRTZXJ2aWNlOiBBbGVydFNlcnZpY2VcclxuICApIHt9XHJcblxyXG4gIC8vIG5nT25Jbml0KCkge1xyXG4gIC8vICAgaWYgKHRoaXMuYXV0aFNlcnZpY2UuaXNMb2dnZWRJbigpKSB7XHJcbiAgLy8gICAgIHRoaXMucm91dGUubmF2aWdhdGVCeVVybCgnaG9tZScpO1xyXG4gIC8vICAgfVxyXG4gIC8vIH1cclxuXHJcbiAgYXN5bmMgbG9naW4oKSB7XHJcbiAgICBjb25zb2xlLmxvZygnRG9pbmcgTG9naW4gLT4gJywgdGhpcy51c2VybmFtZS52YWx1ZSwgdGhpcy5wYXNzd29yZC52YWx1ZSk7XHJcbiAgICBcclxuICAgIHRoaXMubG9hZGluZyA9IHRydWU7XHJcbiAgICBpZih0aGlzLnVzZXJuYW1lLnZhbGlkICYmIHRoaXMucGFzc3dvcmQudmFsaWQpIHtcclxuICAgICAgdGhpcy5hdXRoU2VydmljZS5sb2dpbih0aGlzLnVzZXJuYW1lLnZhbHVlISwgdGhpcy5wYXNzd29yZC52YWx1ZSEpXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnTG9naW4gc3VjY2VzcycpO1xyXG4gICAgICAgICAgdGhpcy5sb2dTdGF0dXMuZW1pdCh0cnVlKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdMb2dpbiBmYWlsZWQnKTtcclxuICAgICAgICAgIHRoaXMubG9nU3RhdHVzLmVtaXQoZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxufVxyXG4iLCI8ZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lciBtdC00IGxvZ2luLWNvbnRhaW5lclwiPlxyXG4gICAgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInJvdyBiYW5uZXJcIj5cclxuICAgICAgICA8aDE+XHJcbiAgICAgICAgICAgIDxpbWcgc3JjPVwiaHR0cHM6Ly9pbnRyYW5ldC5ob2d1ZXJhcy5lcy93cC1jb250ZW50L3VwbG9hZHMvMjAxNi8xMi9sb2dvZmVkZS5wbmdcIiBjbGFzcz1cImltZy1mbHVpZFwiIGFsdD1cIlwiPlxyXG4gICAgICAgICAgICA8c3BhbiBzdHlsZT1cImNvbG9yOiAjZGQ1YTQzICFpbXBvcnRhbnRcIj57e3RpdGxlfX08L3NwYW4+XHJcbiAgICAgICAgPC9oMT5cclxuICAgICAgICA8aDQgc3R5bGU9XCJjb2xvcjogIzQ3OGZjYSAhaW1wb3J0YW50OyB0ZXh0LWFsaWduOiBjZW50ZXI7XCI+wqkgRmVkZXJhY2nDsyBkZSBMZXMgRm9ndWVyZXMgZGUgU2FudCBKb2FuPC9oND5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIFxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cclxuICAgICAgICA8aDQgY2xhc3M9XCJ0aXR1bG8tY29uc3VsdGFzXCIgc3R5bGU9XCJjb2xvcjogIzQ3OGZjYSAhaW1wb3J0YW50O1wiPlxyXG4gICAgICAgICAgICB7e3N1YnRpdGxlfX1cclxuICAgICAgICA8L2g0PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgbXktM1wiPlxyXG4gICAgICAgIDxsYWJlbCBmb3I9XCJ1c2VybmFtZVwiPlVzdWFyaW88L2xhYmVsPlxyXG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwidXNlcm5hbWVcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIFtmb3JtQ29udHJvbF09XCJ1c2VybmFtZVwiIHZhbHVlPVwiXCI+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInJvdyBtYi0zXCI+XHJcbiAgICAgICAgPGxhYmVsIGZvcj1cInVzZXJuYW1lXCI+Q29udHJhc2XDsWE8L2xhYmVsPlxyXG4gICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBpZD1cInBhc3N3b3JkXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBbZm9ybUNvbnRyb2xdPVwicGFzc3dvcmRcIiB2YWx1ZT1cIlwiPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgc3VibWl0LWJ1dHRvbiBtdC0yXCI+XHJcbiAgICAgICAgPGJ1dHRvbiAoY2xpY2spPVwibG9naW4oKVwiPkluaWNpYXIgc2VzacOzbjwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgXHJcbiAgICA8L2Rpdj5cclxuPC9kaXY+Il19